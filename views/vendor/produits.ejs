<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2><i class="fas fa-box-open me-2"></i>Mes produits (<%= produits.length %>)</h2>
    <a href="/vendeur/produits/ajouter" class="btn btn-primary">
      <i class="fas fa-plus me-2"></i>Ajouter un produit
    </a>
  </div>

  <% if (produits.length === 0) { %>
    <div class="text-center py-5">
      <i class="fas fa-box-open text-muted" style="font-size: 4rem;"></i>
      <h4 class="mt-3 text-muted">Aucun produit</h4>
      <p class="text-muted">Ajoutez votre premier produit pour commencer a recevoir des commandes.</p>
      <a href="/vendeur/produits/ajouter" class="btn btn-primary btn-lg">
        <i class="fas fa-plus me-2"></i>Ajouter mon premier produit
      </a>
    </div>
  <% } else { %>
    <div class="row g-3">
      <% produits.forEach(produit => { %>
        <div class="col-md-6 col-lg-4">
          <div class="card h-100 shadow-sm">
            <% if (produit.images && produit.images.length > 0) { %>
              <img src="<%= produit.images[0] %>" class="card-img-top"
                style="height: 180px; object-fit: cover;">
            <% } else { %>
              <div class="card-img-top bg-light d-flex align-items-center justify-content-center"
                style="height: 180px;">
                <i class="fas fa-image text-muted" style="font-size: 2rem;"></i>
              </div>
            <% } %>
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-start">
                <h6 class="card-title"><%= produit.titre %></h6>
                <span class="badge bg-<%= produit.disponible ? 'success' : 'secondary' %>">
                  <%= produit.disponible ? 'Actif' : 'Inactif' %>
                </span>
              </div>
              <p class="text-primary fw-bold mb-1"><%= produit.prix.toLocaleString() %> FCFA</p>
              <small class="text-muted">
                <i class="fas fa-clock me-1"></i><%= produit.delaiPreparation %>j
                | <i class="fas fa-shopping-bag me-1"></i><%= produit.nombreCommandes %> commande(s)
              </small>
            </div>
            <div class="card-footer bg-transparent d-flex gap-2">
              <a href="/vendeur/produits/<%= produit._id %>/modifier" class="btn btn-outline-primary btn-sm flex-fill">
                <i class="fas fa-edit me-1"></i>Modifier
              </a>
              <form action="/vendeur/produits/<%= produit._id %>/supprimer" method="POST"
                onsubmit="return confirm('Supprimer ce produit ?')" class="flex-fill">
                <button type="submit" class="btn btn-outline-danger btn-sm w-100">
                  <i class="fas fa-trash me-1"></i>Supprimer
                </button>
              </form>
            </div>
          </div>
        </div>
      <% }); %>
    </div>
  <% } %>
</div>
